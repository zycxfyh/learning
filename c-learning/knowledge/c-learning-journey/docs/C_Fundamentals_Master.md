# C 语言编程基础：全能通关手册 (Master Guide)

> 本文档整合了 C 语言从入门到进阶的核心知识点，旨在提供一个结构清晰、易于检索的底层开发地基。

---

## 目录
1. [标识符与进制](#1-标识符与进制)
2. [数据类型](#2-数据类型)
3. [字符与字符串](#3-字符与字符串)
4. [运算符与表达式](#4-运算符与表达式)
5. [流程控制](#5-流程控制)
6. [数组](#6-数组)
7. [函数](#7-函数)
8. [结构体](#8-结构体)
9. [标准输入输出](#9-标准输入输出)
10. [预处理指令](#10-预处理指令)
11. [存储类 (Static/Extern)](#11-存储类)
12. [指针进阶与动态内存](#12-指针进阶与动态内存)
13. [文件操作](#13-文件操作)

---

## 1. 标识符与进制

### 标识符 (Identifiers) 规则
1. **字符集**: 只能包含字母 (a-z, A-Z), 数字 (0-9), 下划线 (_)。
2. **开头**: 不能以数字开头。
3. **大小写**: 严格区分大小写。
4. **关键字**: 不能使用 `int`, `return` 等 C 语言关键字。

### 进制表示 (Number Systems)
| 进制 | 前缀 | 示例 | 格式化输出 |
| :--- | :--- | :--- | :--- |
| **十进制** | 无 | `10` | `%d` |
| **二进制** | `0b` | `0b1010` | - |
| **八进制** | `0` | `012` | `%o` |
| **十六进制** | `0x` | `0xA` | `%x` |

---

## 2. 数据类型

| 类型 | 大小 (通常) | 描述 |
| :--- | :--- | :--- |
| `char` | 1 byte | 字符/小整数 |
| `int` | 4 bytes | 标准整数 |
| `float` | 4 bytes | 单精度浮点 (7位) |
| `double` | 8 bytes | 双精度浮点 (15位) |

- **sizeof**: 始终使用 `sizeof(type)` 确认环境大小。
- **溢出**: 超过范围会发生“回绕”，是严重的 Bug 隐患。

---

## 3. 字符与字符串

### 字符 (char)
- 本质是 ASCII 码（整数）：`'A' = 65`, `'a' = 97`, `'0' = 48`。
- **转义字符**: `\n` (换行), `\t` (缩进), `\0` (结束符)。

### 字符串 (Strings)
- C 语言没有原生 string，它是**以 `\0` 结尾的字符数组**。
- **常见陷阱**: 试图修改字符串字面量（指针定义的常量）会导致崩溃。
- **核心工具**: `strlen()`, `strcpy()`, `strcmp()`。

---

## 4. 运算符与表达式

### 必修课
- **整除**: `10 / 3 = 3` (自动截断)。
- **自增/自减**: `a++` (后加), `++a` (先加)。
- **逻辑短路**: `A && B` (若 A 假，B 不执行)；`A || B` (若 A 真，B 不执行)。
- **位运算**: `&`, `|`, `^`, `~`, `<<`, `>>`。直接操作二进制位，效率极高。

---

## 5. 流程控制

- **switch-case**: 后面必须是**整数/字符常量**。切记使用 `break` 防止贯穿（fall through）。
- **do-while**: 至少会执行一次。
- **跳转**: `break` 跳出当前循环；`continue` 跳过本次循环剩余部分。

---

## 6. 数组

- **下标**: 恒从 `0` 开始。
- **越界**: C 语言不做越界检查，这是“黑客”最常攻击的漏洞。
- **二维数组**: 内存中按**行优先**顺序连续存储。

---

## 7. 函数

- **传值**: 默认传递副本。
- **传址**: 传递指针或数组名时，可以在函数内修改原始数据。
- **作用域**: 局部变量在栈内，函数结束即销毁。

---

## 8. 结构体

- **定义**: `struct Name { ... };`（分号不能省）。
- **访问**: 普通变量用 `.`，指针变量用 `->`。
- **typedef**: 极大提升代码可读性，隐藏复杂的定义。

---

## 9. 标准输入输出

- **scanf**: 普通变量必须带 `&`，字符串数组名不带。
- **getchar**: 常用于清空输入缓冲区中的回车。

---

## 10. 预处理指令

- **#define**: 简单的文本替换。带参宏必须多加括号：`#define SQUARE(x) ((x)*(x))`。
- **#include**: `<...>` 用库，`"..."` 用当前路径。

---

## 11. 存储类

- **static**:
    - 函数内：保留生命周期，不随函数退出销毁。
    - 函数外：限制作用域，变为文件私有。
- **extern**: 引用外部定义的全局符号。

---

## 12. 指针进阶与动态内存

- **指针算术**: `p + 1` 移动的步长是 `sizeof(type)`。
- **动态分配**: 使用 `malloc` 申请，必须手动 `free`。不释放会造成**内存泄漏**。

---

## 13. 文件操作

- **FILE 指针**: `FILE *fp = fopen("file.txt", "r");`
- **操作**: `fprintf`, `fscanf`, `fgetc`, `fputc`。
- **释放**: `fclose(fp)` 是必须的收尾动作。

---
## 🏁 结语：
理解了这些地基，你就能从容应对大部分系统级编程挑战。**代码是数学在机器上的物理流转，尊重每一比特的内存。**
